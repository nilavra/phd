# Data Analysis Framework

<!-- 
Deleting ALL ideas from below. A snapshot of the previous version of this page can be found in GitHub commit history at:

https://github.com/nilavra/phd/blob/d90735f86eae2b88796863230825bb8cd2b49f2e/006-data-analysis.Rmd
 -->


<!----------- fig:data-analysis-framework ----------->
```{r data-analysis-framework, fig.scap='(ref:scap-data-analysis-framework)', fig.cap = '(ref:cap-data-analysis-framework)',  echo=FALSE, out.width='100%', fig.align='center'}
nbShowFig("figs/data-analysis-framework")
```
<!-- each text reference needs to be their own single paragraph ! -->
(ref:cap-data-analysis-framework) Data analysis framework followed in this dissertation.

(ref:scap-data-analysis-framework) Data analysis framework.

<!---- fig:data-analysis-framework (leave a blank line before this) ------>


This chapter describes the general framework for analysing the data collected in the *LongSAL* study.
It is described in Figure \@ref(fig:data-analysis-framework).




Here is the overall data analysis framework of my dissertation:
Two categories of data were collected from participants. 
1. Questionnaire data for individual differences: motivation, metacognition, self-regulation.
2. Search Log data containing URL visits, mouse events, webnavigation events, and the order and sequence of those events.

Questionnaire Data

1. Cleaning and Preprocessing
2. identifying user groups - latent profile analysis

Log Data

1. Log Data cleaning and pre-processing
2. URL categorization
3. Active Tab Identification
4. Higher levelSearch Behaviour Data Analysis framework - moves, tactics, strategies
5. Combining Latent Profiles with Search Behaviour Data

Trends Over Time
Difference Between Groups / Profiles
Entropy analysis of sequences

## Individual Differences Questionnaires Data Analysis Steps

### Motivation, Metacognition, and Self Regulation Data


### Latent Profile Analysis (LPA)

<!-- @ambrose2010howa said that students' motivation, metacognition, and self-regulation determines, directs, and sustains what they do to learn.
We were interested to study the effect of these traits on students' search behaviour.
So we collected self-perceived reports of all 3 of them.
However, these constructs are not single binary variables that provide nice groupings automatically.
Instead they are multidimensional data, and are only observable indicators at best of the real hidden (latent) characteristic of an individual. 
In order to employ these multiple constructs to cluster participants into groups, we turned to psychology literature and latent class and latent profile methods. -->

According to @ambrose2010howa, students' motivation, metacognition, and self-regulation are critical factors that determine, direct, and sustain what they do to learn.
<!-- their learning behaviors.  -->
Given our interest in understanding how these traits impact students' searching as learning behaviour, we collected self-perceived reports of all three constructs, via the IMI, MAI, and SRQ questionnaires (Section \@ref(sec-method-qsnr1)). 
However, it is important to note that these constructs are not single binary variables that can be used to easily group individuals. Rather, they are complex and multidimensional data that serve as observable indicators of a person's underlying latent characteristics.


<!-- and utilized latent class and latent profile methods. These statistical techniques allow us to identify and describe subgroups within a population based on shared patterns of responses across multiple variables. By using these methods to analyze the self-perceived reports of motivation, metacognition, and self-regulation, we hope to gain a deeper understanding of how these traits relate to students' search behavior. Ultimately, this information could inform the design of interventions that are tailored to specific subgroups of students with distinct profiles of motivation, metacognition, and self-regulation. -->

<!-- Latent Profile Analysis (LPA) is one of the many approaches clustered together under the umbrella term person-centred statistical approaches, that is being increasingly used in Organizational Psychology, and child development research. LPA provides a framework for describing population heterogeneity in terms of differences across individuals on a set of behaviors or characteristics, as opposed to describing the variability of a single variable. This distinction has been described as a person-centered approach, in contrast to more traditional variable-centered approaches such as multiple regression analysis. The underlying principle of person-centered approaches is that, rather than quantifying the role of particular variables in a study, a population is organized in terms of a finite number of mutually exclusive and exhaustive subgroups, each comprising similar individuals. In other words, each Latent Profile (LP) represents a subgroup of individuals characterized by a pattern of responses on a set of variables; LPA is used to identify and describe the optimal number of LPs to represent a population. -->

To cluster participants into meaningful groups based on these multiple constructs, we turned to the educational psychology literature.
**Latent Profile Analysis (LPA)** is an increasingly popular statistical approach falling under the umbrella of person-centred techniques used in organizational psychology and child development research. It provides a framework for characterizing population heterogeneity in terms of differences across individuals on a set of behaviours or characteristics, as opposed to describing the variability of a single variable. By identifying latent subgroups within a population, LPA enables researchers to gain a more nuanced understanding of the complexity of human behaviour.

The person-centred approach underlying LPA is a departure from traditional variable-centred approaches such as multiple regression analysis. Instead of quantifying the role of particular variables in a study, LPA organizes a population into a finite number of mutually exclusive and exhaustive profiles, each comprising individuals who are similar to one another. In this way, LPA identifies distinct profiles of individuals who exhibit similar patterns of behaviour across multiple variables.

The identification and description of these latent profiles is a crucial step in LPA. Each profile represents a subgroup of individuals who share similar patterns of responses on a set of variables, which can provide insights into the underlying mechanisms driving their behaviour. Furthermore, the identification of the optimal number of profiles to represent a population is a critical issue in LPA. This involves balancing the complexity of the model with its ability to capture meaningful variability in the data, and requires careful consideration of both statistical and substantive criteria.

LPA has several advantages over traditional variable-centred approaches. It allows for a more nuanced understanding of the complexity of human behaviour, particularly in cases where individuals exhibit multiple and diverse patterns of behaviour across different sets of variables. 

In the context of information search behaviour, LPA can help to identify distinct groups of individuals who engage in different search strategies or have different search motivations. This can be useful for understanding how people search for information online, what factors influence their search behaviour, and how search behaviour relates to other variables such as task performance, satisfaction, and learning outcomes.

<!-- I used Latent Profile Analysis to combine scores from Intrinsic Motivation Inventory (IMI), Metacognitive Awareness Inventory (MAI), and Self-regulation questionnaire (SRQ), and identify latent profiles to classify participants into high and low groups. -->


The purpose of this study was to investigate the relationship between individual differences in motivation, metacognition, and self-regulation and search behaviour. 
To classify participants into high and low groups based on their scores on these questionnaires, we employed LPA. 
LPA is particularly useful when the relationship between variables is not well understood or when it is difficult to determine which variables should be used to classify individuals into groups.
We employed LPA to identify latent profiles of participants based on their scores on the IMI, MAI, and SRQ questionnaires.

<!-- We used the software program Mplus to conduct the LPA. We specified a two-class solution, which allowed us to classify participants into high and low groups based on their scores on the three questionnaires. We then compared the means of the questionnaire scores between the high and low groups using t-tests to determine whether there were significant differences in motivation, metacognition, and self-regulation between the two groups. -->












## YASBIL Search Log Data Analysis Steps

### URL Categorization

- peer-reviewed publications are `PUB`s
- others are `ARTICLE`s (e.g. Wikipedia)
- if no other info, then `WEB`
- fuzzy between `WEB` and `ARTICLE` (when classified manually)
- `ARTICLE` if there is a clear author
  - except `WIKIPEDIA`, due to common parlance
  - encyclopedias
- journal homepages are `WEB`
- list of chapters in a book are `L.PUB`.
  - e.g. in detail view of
- book chapter is `PUB`

In order to understand the relationship between users' information search behavior and the type of webpages they visit, we needed to categorize webpages into different types. To accomplish this, we developed a classification system based on URL patterns.

URL patterns were first extracted from the web browsing data collected in our study. These URL patterns contain information about the structure and content of each webpage visited by the users. Based on this information, we were able to classify each URL present in the log data into the following hierarchical taxonomy:

- `L`: Search Result Pages, i.e., a **L**ist of Information Objects
  - `L.PUB`: Publication Search Results, e.g., on university library websites, digital libraries, Google Scholar, etc.
  - `L.WEB`: Web Search Engine Result Pages (SERPs)
- `I`: Content pages, i.e., Individual **I**nformation Objects
  - `I.PUB`: Academic Publications
  - `I.WEB`: Webpages that have the potential to provide relevant (academic) information for the search task, but are not publication. E.g., Wikipedia articles, relevant blog posts, government and non-profit websites, etc. Some of them were classified automatically (e.g., Wikipedia), while others were classified after manual inspection.
- `MISC`: URLs for webpages that did not fit in any of the above category

<!-- several different types, including search engine result pages, content pages, scientific peer-reviewed publications, Wikipedia articles, library websites, or other types of webpages. -->

To identify search engine result pages, we looked for URLs that contained URL query parameters such as `q` (Google, Bing), `search`, `query`, or `k` (Yahoo) along with specific strings associated with popular search engines such as Google or Bing. 
We also identified content pages by looking for URLs that contained strings such as "`article`", "`blog`", or "`news`".
Scientific peer-reviewed publications were identified based on URLs that contained specific strings associated with academic publishers or databases (ACM DL, Elsevier, Scopus, Springer etc.), while Wikipedia articles were identified by their URLs containing the string "wikipedia" in the hostname.

Library websites were identified by URLs that contained terms such as "library", "catalogue", or "database" as well as specific strings associated with major library systems (e.g., UT Austin uses Primo VE system from Ex Libris). Finally, we used the catch-all category `MISC` to identify other types of webpages that did not fit into any of the other categories.

Overall, our URL-based classification system provided a useful way to categorize webpages based on their type, allowing us to gain insights into how users' search behaviour varies across different types of webpages. By analysing the patterns of webpage types visited by users during their information search process, we were able to identify which types of webpages were most commonly visited and how they related to users' search behaviour. This information can be used to improve the design of information systems and search engines, as well as to inform the development of tailored interventions that support users' information search needs.




### Active Tab Identification



### Identifying Levels of Search Activity


After log data was cleaned 
From @white2016interactions, Table 2.1 (adapted from Bates, 1989):

- **Level 1: Move**
  - Atomic search event – for example, a query or click
  (*An identifiable thought or action that is part of information searching.*)
- **Level 2: Tactic**
  - Goal or task, including query or click chain
  (*One or several moves made to further a search*)
- **Level 3: Statagem**
  - Mission or session
  (*A larger, more complex set of thoughts and/or actions than the tactic; a stratagem consists of multiple tactics and/or moves, all of which are designed to exploit a particular search domain that is thought to contain the desired information*)
- **Level 4: Strategy**
  - Session or cross-session search task
  (*A plan, which may contain moves, tactics, and/or stratagems, for an entire information search.*)



Session: `task_id`, 30 minutes of inactivity
(Google Analytics: a session lasts until there's 30 minutes of inactivity)

Session duration is considered 30 minutes (!) (or maybe 1 hour?)
as per Google Analytics^[https://www.hotjar.com/google-analytics/glossary/session-duration] and (TODO: find reference)





## Combining Individual Differences with Search Logs


## Entropy Analyses of Search Behaviour Sequences

Entropy is a measure of the diversity or unpredictability of a sequence of events. In the context of search queries, entropy can be used to quantify the variability or randomness of the query reformulations issued by participants.
Transition analysis and entropy helps to cover differences in disparate tasks and activities.
Inspired by previous works in analysing eye-movement sequences [@krejtz2014entropy; @krejtz2015gaze] and search tactics sequences [@he2016beyond], we employed a similar entropy analysis of query reformulation sequences, and search tactic patterns of the participants.

For query reformulations, the possible set of states were the five query reformulation types:
Generalization, Specialization, Word Substitution, Repeat, and New.
For search tactic sequences, we used the following set of states:

1. `QUERY`: issuing a search query
2. `CLICK`: mouse click
3. `IDLE`: participant stays idle for more than one minute (TODO CITATION)
4. `SESSION_BREAK`: participant becomes idle for more than 30 minutes (Google Analytics defines a session break as 30 minutes of inactivity ^[https://support.google.com/analytics/answer/2731565#zippy=%2Cin-this-article])
5. `L.PUB`: visiting a publication search result page
6. `L.WEB`: visiting a web SERP
7. `I.PUB`: visiting a scholarly publication
8. `I.WEB`: visiting a non-scholarly content page
9. `TASKPAGE`: visiting webpages related to the study, i.e. the Qualtrics questionnaires

If we consider a sequence of query reformulations issued by a participant 
(e.g., *New -> New -> Specialization -> Specialization -> Word Substitution -> Generalization*)
then this sequence can be considered as a first order Markov chain, wherein, the next step in the chain depends only on the current state.
Entropy analysis on these Markov chains quantifies how predictable the states are, and yields two categories of uncertainty measures: transition entropy, $H_t$, and stationary entropy $H_s$.
Similar stationary and transition entropy measures can be obtained for sequences of search tactics.


<!-- ========================= OLD CONTENT ==================== -->









<!----------- fig:ResP4650362619704565728 ----------->
```{r ResP4650362619704565728, fig.scap='(ref:scap-ResP4650362619704565728)', fig.cap = '(ref:cap-ResP4650362619704565728)',  echo=FALSE, out.width='100%', fig.align='center'}
nbShowFig("figs/ResP4650362619704565728")
```
<!-- each text reference needs to be their own single paragraph ! -->
(ref:cap-ResP4650362619704565728) Longcaption.

(ref:scap-ResP4650362619704565728) Shortcaption.

<!---- fig:ResP4650362619704565728 (leave a blank line before this) ------>


<!-- 
rp2-learning-search-outcomes
 -->
